Модель обмена сообщениями Publish / Subscribe

Сейчас многие программы состоят из кучи маленьких сервисов, и им нужно как-то обмениваться данными. Один из способов - это система Pub/Sub, где есть издатели и подписчики. Издатель отправляет сообщение, а кто его получит - ему не важно. Подписчик получает только то, что ему нужно. Между ними стоит брокер, который всё распределяет.

Есть два основных варианта работы. Первый - быстрая доставка в реальном времени. Тут сообщения приходят сразу, но только тем, кто онлайн. Если сервис упал или перезагружается - сообщения пропадут. 

Второй вариант - надёжная доставка. Здесь сообщения сохраняются и ждут, даже если подписчик отключён. Можно потом всё прочитать с самого начала. Но работает немного медленнее. 

Выбор зависит от задачи. Если нужна максимальная скорость и можно что-то потерять - берём первый вариант. Если важна гарантия, что ничего не пропадёт - тогда второй. В сложных системах часто используют оба способа для разных задач. Главное - понимать, что идеального решения нет, у каждого подхода свои плюсы и минусы.
